# gitbook-plugin-toc-accordion

A HonKit/GitBook plugin that adds accordion functionality to the "In This Chapter" section generated by the `intopic-toc` plugin.

## Features

- ✅ **Toggle visibility**: Click on the "In This Chapter" heading to show/hide the table of contents
- ✅ **Visual indicator**: Arrow icon that rotates when collapsed/expanded
- ✅ **Persistent state**: Remembers your preference using localStorage
- ✅ **Default open**: The accordion is open by default for better UX
- ✅ **Keyboard accessible**: Supports Enter and Space keys for toggling
- ✅ **Smooth animations**: CSS transitions for a polished experience
- ✅ **Hover effects**: Visual feedback on hover

## Installation

This plugin is already installed locally in this project. It works in conjunction with the `intopic-toc` plugin.

## Usage

Simply click on the "In This Chapter" heading to collapse or expand the table of contents. The state will be saved and restored when you navigate between pages.

### Keyboard Navigation

- Press `Tab` to focus on the "In This Chapter" heading
- Press `Enter` or `Space` to toggle the accordion

## How It Works

1. The plugin loads CSS styles that add a clickable cursor and arrow indicator to the TOC heading
2. JavaScript adds click handlers to toggle the `toc-collapsed` class
3. The collapsed state is saved to localStorage for persistence across page loads
4. ARIA attributes ensure screen reader compatibility

## Browser Support

Works in all modern browsers that support:
- CSS3 transitions
- localStorage API
- ES5 JavaScript
