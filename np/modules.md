# Modules

In the real world, a program grows organically to cope with the needs of new functionality. With growing codebase structuring and maintaining the code requires additional work. Though it will pay off in the future, it's tempting to neglect it and allow programs to be deeply tangled. In reality, it increases the complexity of the application, as one is forced to build a holistic understanding of the system and has difficulty to look any piece in isolation. Secondly, one has to invest more time in untangling to use its functionality.

рд╡рд╛рд╕реНрддрд╡рд┐рдХ рд╕рдВрд╕рд╛рд░рдорд╛, рдирдпрд╛рдБ рдХрд╛рд░реНрдпрдХреНрд╖рдорддрд╛рдХреЛ рдЖрд╡рд╢реНрдпрдХрддрд╛рдХреЛ рд╕рд╛рдордирд╛ рдЧрд░реНрди рдПрдХ рдХрд╛рд░реНрдпрдХреНрд░рдо рдПрдХ рдХрд╛рд░реНрдпрдХреНрд░рдо рдмрдвреНрдЫред рд╡реГрд╡реГрдзрд┐рдд рдХреЛрдг рдЪрд╛рдЙрдЪрд╛рдЙрдирдХреЛ рд╕рд╛рде рд╕рдВрд░рдЪрдирд╛ рд░ рд╕рдВрд░рдЪрдирд╛рдХреЛ рд╕рд╛рде рдЕрддрд┐рд░рд┐рдХреНрдд рдХрд╛рдо рдЪрд╛рд╣рд┐рдиреНрдЫред рдпрджреНрдпрдкрд┐ рдпрд╕рд▓реЗ рднрд╡рд┐рд╖реНрдпрдорд╛ рднреБрдХреНрддрд╛рдиреА рдЧрд░реНрдиреЗрдЫ, рдпреЛ рдЙрдкреЗрдХреНрд╖рд╛ рдЧрд░реНрди рд▓реЛрднреНрдпрд╛рдЙрдиреЗ рд░ рдХрд╛рд░реНрдпрдХреНрд░рдорд╣рд░реВрд▓рд╛рдИ рдЧрд╣рд┐рд░реЛ рддрд░реНрдХрд╛рдЙрди рдЕрдиреБрдорддрд┐ рджрд┐рдИрдиреНрдЫред рд╡рд╛рд╕реНрддрд╡рд┐рдХрддрд╛рдорд╛, рдпрд╕рд▓реЗ рдЖрд╡реЗрджрдирдХреЛ рдЬрдЯрд┐рд▓рддрд╛ рдмрдврд╛рдЙрдБрджрдЫ, рдХрд┐рдирдХрд┐ рдПрдХ рдкреНрд░рдгрд╛рд▓реАрдХреЛ рд╕рдордЧреНрд░ рд╕рдордЭрд▓рд╛рдИ рдирд┐рд░реНрдорд╛рдг рдЧрд░реНрди рдмрд╛рдзреНрдп рд╣реБрдиреНрдЫ рд░ рдПрдХреНрд▓реЛрдкрдирд╛рдорд╛ рдХреБрдиреИ рдЯреБрдХреНрд░рд╛ рд╣реЗрд░реНрди рдЧрд╛рд╣реНрд░реЛ рд╣реБрдиреНрдЫред рджреЛрд╕реНрд░реЛ, рдПрдХрд▓реЗ рдХрд╕реИрд▓рд╛рдИ рдкрдирд┐ рдЕрдкрд░реНрдпрд╛рдкреНрдд рдорд╛ рдЕрдзрд┐рдХ рд╕рдордп рд▓рдЧрд╛рдиреА рдЧрд░реНрди рдЫ рдЖрдлреНрдиреЛ рдХрд╛рд░реНрдпрдХреНрд╖рдорддрд╛ рдХреЛ рдЙрдкрдпреЛрдЧ рдЧрд░реНрдиред

_Modules_ come to avoid these problems. A `module` specifies which pieces of code it depends on, along with what functionality it provides for other modules to use. Modules that are dependent on another module are called _dependencies_.  Various module libraries are there to organize code into modules and load it on demand.

_Mudys_ рдпреА рд╕рдорд╕реНрдпрд╛рд╣рд░реВрдмрд╛рдЯ рдмрдЪреНрди рдЖрдЙрдиреБрд╣реЛрд╕реНред рдПрдХ `рдореЛрдбреНрдпреБрд▓`` рдирд┐рд░реНрджрд┐рд╖реНрдЯ рдЧрд░реНрджрдЫ рдХрд┐ рдХреБрди рдХреЛрдбрдХрд╛ рдЯреБрдХреНрд░рд╛рд╣рд░реВ рдпрд╕рдХреЛ рд▓рд╛рдЧрд┐ рдирд┐рд░реНрднрд░ рдЧрд░реНрджрдЫ, рд╕рд╛рдереИ рдХрд╕реНрддреЛ рдореЛрдбреНрдпреБрд▓рд╣рд░реВрдХреЛ рдкреНрд░рдпреЛрдЧ рдЧрд░реНрди рдХреЛ рд▓рд╛рдЧреА рдХрд╛рдо рдЧрд░реНрджрдЫред рдореЛрдбреНрдпреБрд▓рд╣рд░реВ рдЬреБрди рдЕрд░реНрдХреЛ рдореЛрдбреНрдпреБрд▓рдорд╛ рдирд┐рд░реНрднрд░ рдЫрдиреН _рджреЗрдирджреЗрдВ_ рднрдирд┐рдиреНрдЫред рдмрд┐рднрд┐рдиреНрди рдореЛрдбреНрдпреБрд▓ рдкреБрд╕реНрддрдХрд╛рд▓рдпрд╣рд░реВ рддреНрдпрд╣рд╛рдБ рдореЛрдбреНрдпреБрд▓рд╣рд░реВрдорд╛ рд╕рдВрдЧрдард┐рдд рдЧрд░реНрди рд░ рдпрд╕рд▓рд╛рдИ рдорд╛рдВрдЧ рдорд╛ рд▓реЛрдб рдЧрд░реНрди рдХреЛ рд▓рд╛рдЧреАред

* AMD - one of the oldest module systems, initially used by [require.js](https://requirejs.org/).

* Amd - рд╕рдмреИрднрдиреНрджрд╛ рдкреБрд░рд╛рдиреЛ рдореЛрдбреНрдпреБрд▓ рдкреНрд░рдгрд╛рд▓реА рдордзреНрдпреЗ рдПрдХ, рд╕реБрд░реБрдорд╛ [рдЖрд╡рд╢реНрдпрдХ рдЫ .js] (https://reqirirejs.org/) рдкреНрд░рдпреЛрдЧ рдЧрд░рд┐рдпреЛред
* CommonJS - module system created for Node.js server.

* рд╕рд╛рдорд╛рдиреНрдпрд░рд╛рдЬ - рдореЛрдбреНрдпреБрд▓ рдкреНрд░рдгрд╛рд▓реА рдиреЛрдб рдЯреНрд░рд╛рдиреНрд╕ рд╕рд░реНрднрд░ рдХреЛ рд▓рд╛рдЧреА рд╕рд┐рд░реНрдЬрдирд╛ рдЧрд░рд┐рдПрдХреЛред
* UMD - module system that is compatible with AMD and CommonJS.

* UMD - рдореЛрдбреНрдпреБрд▓ рдкреНрд░рдгрд╛рд▓реА рдЬреБрди AMD рд░ AMBJs рд╕рдБрдЧ рдЙрдкрдпреБрдХреНрдд рдЫред

Modules can load each other, and use special directives `import` and `export` to interchange functionality, and call functions of each other.

рдореЛрдбреНрдпреБрд▓рд╣рд░реВ рдПрдХ рдЕрд░реНрдХрд╛рд▓рд╛рдИ рд▓реЛрдб рдЧрд░реНрди рд╕рдХреНрдЫрдиреН, рд░ рд╡рд┐рд╢реЗрд╖ рдирд┐рд░реНрджреЗрд╢рдирд╣рд░реВ `рдЖрдпрд╛рдд" рдЖрдпрд╛рдд рдЧрд░реНрдиреБрд╣реЛрд╕реН рд░ "рдПрдХ рдЕрд░реНрдХрд╛рдХреЛ рдХрд╛рдордХрд╛ рдкреНрд░рдХрд╛рд░реНрдпрд╣рд░реВ рдХрд▓ рдЧрд░реНрдиреБрд╣реЛрд╕реНред

* `export` - labels functions and variables that should be accessible  from outside  the current module

* `рдирд┐рд░реНрдпрд╛рдд" рд▓реЗ рд▓реЗрдмрд▓рд╣рд░реВ рдХрд╛рд░реНрдпрд╣рд░реВ рд░ рдЪрд░рд╣рд░реВ рдЬреБрди рд╣рд╛рд▓рдХреЛ рдореЛрдбреНрдпреБрд▓ рдмрд╛рд╣рд┐рд░рдмрд╛рдЯ рдкрд╣реБрдБрдЪ рдпреЛрдЧреНрдп рд╣реБрдиреБрдкрд░реНрджрдЫ
* `import` - imports functionality from outside module

* `рдЖрдпрд╛рдд рдЧрд░реНрдиреБрд╣реЛрд╕реН - рдмрд╛рд╣рд┐рд░ рдореЛрдбреНрдпреБрд▓рдмрд╛рдЯ рдХрд╛рд░реНрдпрдХреНрд╖рдорддрд╛ рдЖрдпрд╛рдд рдЧрд░реНрджрдЫ

Let's see the `import`  , and `export` mechanism in modules.  We have  `sayHi` function exported from `sayHi.js` file.

рдЖрдЙрдиреБрд╣реЛрд╕реН, рдЖрджрд╛рди "рдЖрджрд╛рди", рд░ рдореЛрдбреНрдпреБрд▓рд╣рд░реВрдорд╛ `рдирд┐рд░реНрдпрд╛рдд рд╕рдВрдпрдиреНрддреНрд░рд╣рд░реВ рд╣реЗрд░реНрдиреБрд╣реЛрд╕реНред рд╣рд╛рдореАрд╕рдБрдЧ `рд╣реЛ 'рдмрд╛рдЯ рдирд┐рд░реНрдпрд╛рдд рдЧрд░рд┐рдПрдХреЛ рдЫ' 'ред

```javascript
// ЁЯУБ sayHi.js
export const sayHi = (user) => {
  alert(`Hello, ${user}!`);
}
```

The `sayHi` function is consumed in the `main.js` file with the help of the `import` directive.

`рд╣реЛрдпрд╛` рдкреНрд░рдХрд╛рд░реНрдп` import import main `рдЖрдпрд╛рдд" рдЖрдпрд╛рдд "рдХреЛ рдорджреНрджрддрдХреЛ рд╕рд╛рде` main.js's рдлрд╛рдИрд▓рдорд╛ рдЦрдкрдд рдЧрд░рд┐рдПрдХреЛ рдЫред

```javascript
// ЁЯУБ main.js
import {sayHi} from './sayHi.js';

alert(sayHi); // function...
sayHi('Kelvin'); // Hello, Kelvin!
```

Here, the import directive loads the module by importing the relative path and assigns the `sayHi` variable.

рдпрд╣рд╛рдБ, рдЖрдпрд╛рдд рдирд┐рд░реНрджреЗрд╢рдХ рд╕рд╛рдкреЗрдХреНрд╖ рдорд╛рд░реНрдЧ рдЖрдпрд╛рдд рдЧрд░реЗрд░ рдореЛрдбреНрдпреБрд▓ рд▓реЛрдб рдЧрд░реНрджрдЫ рд░ `рд╣реЛрдерд┐ 'рднреНрдпрд╛рд░реАрдПрдмрд▓рд▓рд╛рдИ рдирд┐рд░реНрджрд┐рд╖реНрдЯ рдЧрд░реНрджрдЫред

Modules can be exported in two ways: **Named** and **Default**. Furthermore, the Named exports can be assigned inline or individually.

рдореЛрдбреНрдпреБрд▓рд╣рд░реВ рджреБрдИ рддрд░рд┐рдХрд╛рдорд╛ рдирд┐рд░реНрдпрд╛рдд рдЧрд░реНрди рд╕рдХрд┐рдиреНрдЫ: ** рдирд╛рдо ** рд░ ** рдкреВрд░реНрд╡рдирд┐рд░реНрдзрд╛рд░рд┐рдд **ред рдпрд╕рдмрд╛рд╣реЗрдХ, рдирд╛рдо рдЧрд░реЗрдХреЛ рдирд┐рд░реНрдпрд╛рддрд▓рд╛рдИ рдЗрдирд▓рд╛рдЗрди рд╡рд╛ рд╡реНрдпрдХреНрддрд┐рдЧрдд рд░реВрдкрдорд╛ рддреЛрдХреНрди рд╕рдХрд┐рдиреНрдЫред

```javascript
// ЁЯУБ person.js 

// inlined named exports
export const name = "Kelvin";
export const age = 30;

// at once
const name = "Kelvin";
const age = 30;
export {name, age};
```

{% hint style="warning" %}


One can only have one default `export` in a file.

рдПрдХ рдорд╛рддреНрд░ рдПрдХ рдорд╛рддреНрд░ рдкреВрд░реНрд╡ рдкреВрд░реНрд╡рдирд┐рд░реНрдзрд╛рд░рд┐рдд `рдирд┐рд░реНрдпрд╛рдд рдХреЛ рдПрдХ рдкреВрд░реНрд╡рдирд┐рд░реНрдзрд╛рд░рд┐рдд рдЧрд░реНрди рд╕рдХреНрдЫред
{% endhint %}

<pre class="language-javascript"><code class="lang-javascript">// ЁЯУБ message.js 
const message = (name, age) => {
<strong>    return `${name} is ${age} years old.`;

<рдХрдбрд╛> рд░рд┐рдЯрд░реНрди `$ ne name} $ {рдЙрдореЗрд░ {рдЙрдореЗрд░ {рдЙрдореЗрд░} рдЫ;
</strong>};
export default message;
</code></pre>

Based on the type of export, we can import it in two ways. The named export are constructed using curly braces whereas, default exports are not.

рдирд┐рд░реНрдпрд╛рддрдХреЛ рдкреНрд░рдХрд╛рд░рдорд╛ рдЖрдзрд╛рд░рд┐рдд рд╣рд╛рдореА рдпрд╕рд▓рд╛рдИ рджреБрдИ рддрд░рд┐рдХрд╛рдорд╛ рдЖрдпрд╛рдд рдЧрд░реНрди рд╕рдХреНрдЫреМрдВред рдирд╛рдо рдЧрд░рд┐рдПрдХреЛ рдирд┐рд░реНрдпрд╛рдд рдХрддрд╛рд░рдХреЛ рдмреНрд░реЗрд╕рд╣рд░реВ рдкреНрд░рдпреЛрдЧ рдЧрд░реЗрд░ рдмрдирд╛рдЗрдПрдХреЛ рдЫ, рдкреВрд░реНрд╡рдирд┐рд░реНрдзрд╛рд░рд┐рдд рдирд┐рд░реНрдпрд╛рддрдорд╛ рдЫреИрдиред

```javascript
import { name, age } from "./person.js"; // named export import
import message from "./message.js"; // default export import
```

While assigning modules, we should avoid _circular dependency_. Circular dependency is a situation where module A depends on B, and B  also depends on A directly or indirectly.&#x20;

рдореЛрдбреНрдпреБрд▓рд╣рд░реВ рддреЛрдХреНрджрд╛, рд╣рд╛рдореАрд▓реЗ _cristic рдирд┐рд░реНрднрд░рддрд╛рдмрд╛рдЯ рдЕрд▓рдЧ рд░рд╣рдиреБ рдкрд░реНрдЫред рдЧреЛрд▓рд╛рдХрд╛рд░ рдирд┐рд░реНрднрд░рддрд╛ рдПрдХ рд╕реНрдерд┐рддрд┐ рд╣реЛ рдЬрд╣рд╛рдБ рдореЛрдбреНрдпреБрд▓ рдмреАрдорд╛ рдмреА, рд░ рдмреАрдорд╛ рдирд┐рд░реНрднрд░ рдЧрд░реНрджрдЫ, рдПрдХ рд╕реАрдзрд╛ рд╡рд╛ рдЕрдкреНрд░рддреНрдпрдХреНрд╖ рд░реВрдкрдорд╛ рдирд┐рд░реНрднрд░ рдЧрд░реНрджрдЫред & # X20;
