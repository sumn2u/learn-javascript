# Modules (рдореЛрдбреНрдпреБрд▓рд╣рд░реВ)

In the real world, a program grows organically to cope with the needs of new functionality. With growing codebase structuring and maintaining the code requires additional work. Though it will pay off in the future, it's tempting to neglect it and allow programs to be deeply tangled. In reality, it increases the complexity of the application, as one is forced to build a holistic understanding of the system and has difficulty to look any piece in isolation. Secondly, one has to invest more time in untangling to use its functionality.

рд╡рд╛рд╕реНрддрд╡рд┐рдХ рд╕рдВрд╕рд╛рд░рдорд╛, рдПрдХ рдХрд╛рд░реНрдпрдХреНрд░рдо рдирдпрд╛рдБ рдХрд╛рд░реНрдпрдХреНрд╖рдорддрд╛рдХреЛ рдЖрд╡рд╢реНрдпрдХрддрд╛рд╣рд░реВрдХреЛ рд╕рд╛рдордирд╛ рдЧрд░реНрди рд╡реНрдпрд╡рд╕реНрдерд┐рдд рд░реВрдкрдорд╛ рдмрдвреНрдЫред рдмрдвреНрджреЛ рдХреЛрдбрдмреЗрд╕ рд╕рдВрд░рдЪрдирд╛ рд░ рдХреЛрдб рдХреЛ рд░рдЦрд░рдЦрд╛рд╡ рдХреЛ рд╕рд╛рде рдЕрддрд┐рд░рд┐рдХреНрдд рдХрд╛рдо рдХреЛ рдЖрд╡рд╢реНрдпрдХрддрд╛ рдЫред рдпрджреНрдпрдкрд┐ рдпрд╕рд▓реЗ рднрд╡рд┐рд╖реНрдпрдорд╛ рднреБрдХреНрддрд╛рдиреА рдЧрд░реНрдиреЗрдЫ, рдпрд╕рд▓рд╛рдИ рдмреЗрд╡рд╛рд╕реНрддрд╛ рдЧрд░реНрди рд░ рдХрд╛рд░реНрдпрдХреНрд░рдорд╣рд░реВрд▓рд╛рдИ рдЧрд╣рд┐рд░реЛ рд░реВрдкрдорд╛ рдкреЗрдЪрд┐рд▓реЛ рд╣реБрди рдЕрдиреБрдорддрд┐ рджрд┐рди рдпреЛ рд▓реЛрднрд▓рд╛рдЧреНрджреЛ рдЫред рд╡рд╛рд╕реНрддрд╡рд┐рдХрддрд╛рдорд╛, рдпрд╕рд▓реЗ рдЕрдиреБрдкреНрд░рдпреЛрдЧрдХреЛ рдЬрдЯрд┐рд▓рддрд╛ рдмрдврд╛рдЙрдБрдЫ, рдХрд┐рдирдХрд┐ рдПрдХ рдкреНрд░рдгрд╛рд▓реАрдХреЛ рд╕рдордЧреНрд░ рд╕рдордЭ рдирд┐рд░реНрдорд╛рдг рдЧрд░реНрди рдмрд╛рдзреНрдп рд╣реБрдиреНрдЫ рд░ рдЕрд▓рдЧрд╛рд╡рдорд╛ рдХреБрдиреИ рдкрдирд┐ рдЯреБрдХреНрд░рд╛ рд╣реЗрд░реНрди рдЧрд╛рд╣реНрд░реЛ рд╣реБрдиреНрдЫред рджреЛрд╕реНрд░реЛ, рдпрд╕рдХреЛ рдХрд╛рд░реНрдпрдХреНрд╖рдорддрд╛ рдХреЛ рдЙрдкрдпреЛрдЧ рдЧрд░реНрди рдХреЛ рд▓рд╛рдЧреА рдПрдХ рдЕрдирдЯреИрдВрдЧрд▓рд┐рдВрдЧ рдорд╛ рдЕрдзрд┐рдХ рд╕рдордп рд▓рдЧрд╛рдиреА рдЧрд░реНрдиреБ рдкрд░реНрдЫред

_Modules_ come to avoid these problems. A `module` specifies which pieces of code it depends on, along with what functionality it provides for other modules to use. Modules that are dependent on another module are called _dependencies_.  Various module libraries are there to organize code into modules and load it on demand.

рдореЛрдбреНрдпреБрд▓рд╣рд░реВ рдпреА рд╕рдорд╕реНрдпрд╛рд╣рд░реВрдмрд╛рдЯ рдмрдЪреНрди рдЖрдЙрдБрджрдЫрдиреНред рдПрдХ 'рдореЛрдбреНрдпреБрд▓' рд▓реЗ рдирд┐рд░реНрджрд┐рд╖реНрдЯ рдЧрд░реНрджрдЫ рдХрд┐ рдпреЛ рдХреЛрдбрдХреЛ рдХреБрди рдЯреБрдХреНрд░рд╛рд╣рд░реВрдорд╛ рдирд┐рд░реНрднрд░ рдЧрд░реНрджрдЫ, рд╕рд╛рдереИ рдпрд╕рд▓реЗ рдЕрдиреНрдп рдореЛрдбреНрдпреБрд▓рд╣рд░реВ рдкреНрд░рдпреЛрдЧ рдЧрд░реНрдирдХрд╛ рд▓рд╛рдЧрд┐ рдХреБрди рдХрд╛рд░реНрдпрдХреНрд╖рдорддрд╛ рдкреНрд░рджрд╛рди рдЧрд░реНрджрдЫред рдореЛрдбреНрдпреБрд▓рд╣рд░реВ рдЬреБрди рдЕрдиреНрдп рдореЛрдбреНрдпреБрд▓рдорд╛ рдирд┐рд░реНрднрд░ рдЫрдиреН рддрд┐рдиреАрд╣рд░реВрд▓рд╛рдИ _рдирд┐рд░реНрднрд░рддрд╛рд╣рд░реВ' рднрдирд┐рдиреНрдЫред  рд╡рд┐рднрд┐рдиреНрди рдореЛрдбреНрдпреБрд▓ рдкреБрд╕реНрддрдХрд╛рд▓рдпрд╣рд░реВ рдореЛрдбреНрдпреБрд▓рд╣рд░реВрдорд╛ рдХреЛрдб рд╡реНрдпрд╡рд╕реНрдерд┐рдд рдЧрд░реНрди рд░ рдорд╛рдЧрдорд╛ рд▓реЛрдб рдЧрд░реНрди рддреНрдпрд╣рд╛рдБ рдЫрдиреНред

* AMD - one of the oldest module systems, initially used by [require.js](https://requirejs.org/).

* AMD - рд╕рдмреИрднрдиреНрджрд╛ рдкреБрд░рд╛рдиреЛ рдореЛрдбреНрдпреБрд▓ рдкреНрд░рдгрд╛рд▓реА рдордзреНрдпреЗ рдПрдХ рд╣реЛред рд╕реБрд░реБрдорд╛ рдпреЛ[require.js] (<https://reqirirejs.org/>) рдкреНрд░рдпреЛрдЧ рдЧрд░рд┐рдпреЛред
* CommonJS - module system created for Node.js server.

* CommonJS - рдореЛрдбреНрдпреБрд▓ рдкреНрд░рдгрд╛рд▓реА рдиреЛрдб рдЯреНрд░рд╛рдиреНрд╕ рд╕рд░реНрднрд░ рдХреЛ рд▓рд╛рдЧреА рд╕рд┐рд░реНрдЬрдирд╛ рдЧрд░рд┐рдПрдХреЛ рд╣реЛредред
* UMD - module system that is compatible with AMD and CommonJS.

* UMD - рдореЛрдбреНрдпреБрд▓ рдкреНрд░рдгрд╛рд▓реА рдЬреБрди AMD рд░ CommonJS рд╕рдБрдЧ рдЙрдкрдпреБрдХреНрдд рдЫред

Modules can load each other, and use special directives `import` and `export` to interchange functionality, and call functions of each other.

рдореЛрдбреНрдпреБрд▓рд╣рд░реВрд▓реЗ рдПрдХ рдЕрд░реНрдХрд╛рд▓рд╛рдИ рд▓реЛрдб рдЧрд░реНрди рд╕рдХреНрджрдЫрдиреН, рд░ рдХрд╛рд░реНрдпрдХреНрд╖рдорддрд╛ рдЖрджрд╛рдирдкреНрд░рджрд╛рди рдЧрд░реНрди рд╡рд┐рд╢реЗрд╖ рдирд┐рд░реНрджреЗрд╢рдирд╣рд░реВ рдЖрдпрд╛рдд рд░ рдирд┐рд░реНрдпрд╛рдд рдкреНрд░рдпреЛрдЧ рдЧрд░реНрди рд╕рдХреНрджрдЫрдиреН, рд░ рдПрдХ рдЕрд░реНрдХрд╛рдХреЛ рдХрд╛рд░реНрдпрд╣рд░реВ рдХрд▓ рдЧрд░реНрди рд╕рдХреНрджрдЫрдиреНред

* `export` - labels functions and variables that should be accessible  from outside  the current module

* `рдирд┐рд░реНрдпрд╛рдд` рд▓реЗ рд▓реЗрдмрд▓рд╣рд░реВ рдХрд╛рд░реНрдпрд╣рд░реВ рд░ рдЪрд░рд╣рд░реВ рдЬреБрди рд╣рд╛рд▓рдХреЛ рдореЛрдбреНрдпреБрд▓ рдмрд╛рд╣рд┐рд░рдмрд╛рдЯ рдкрд╣реБрдБрдЪ рдпреЛрдЧреНрдп рд╣реБрдиреБрдкрд░реНрджрдЫред
* `import` - imports functionality from outside module

* `рдЖрдпрд╛рдд` - рдмрд╛рд╣рд┐рд░ рдореЛрдбреНрдпреБрд▓рдмрд╛рдЯ рдХрд╛рд░реНрдпрдХреНрд╖рдорддрд╛ рдЖрдпрд╛рдд рдЧрд░реНрджрдЫред

Let's see the `import`  , and `export` mechanism in modules.  We have  `sayHi` function exported from `sayHi.js` file.

рдореЛрдбреНрдпреБрд▓рдорд╛ 'рдЖрдпрд╛рдд' рд░ 'рдирд┐рд░реНрдпрд╛рдд' рд╕рдВрдпрдиреНрддреНрд░ рд╣реЗрд░реМрдВред  рд╣рд╛рдореАрд╕рдБрдЧ `sayHi` рдкреНрд░рдХрд╛рд░реНрдп `sayHi.js` рдлрд╛рдЗрд▓рдмрд╛рдЯ рдирд┐рд░реНрдпрд╛рдд рдЧрд░рд┐рдПрдХреЛ рдЫред

```javascript
// ЁЯУБ sayHi.js
export const sayHi = (user) => {
  alert(`Hello, ${user}!`);
}
```

The `sayHi` function is consumed in the `main.js` file with the help of the `import` directive.

'рдЖрдпрд╛рдд' рдирд┐рд░реНрджреЗрд╢рдирдХреЛ рд╕рд╣рд╛рдпрддрд╛рд▓реЗ `main.js` рдлрд╛рдЗрд▓рдорд╛ `sayHi` рдкреНрд░рдХрд╛рд░реНрдп рдЦрдкрдд рд╣реБрдиреНрдЫред

```javascript
// ЁЯУБ main.js
import {sayHi} from './sayHi.js';

alert(sayHi); // function...
sayHi('Kelvin'); // Hello, Kelvin!
```

  Here, the import directive loads the module by importing the relative path and assigns the `sayHi` variable.

рдпрд╣рд╛рдБ, рдЖрдпрд╛рдд рдирд┐рд░реНрджреЗрд╢рд┐рдХрд╛рд▓реЗ рд╕рд╛рдкреЗрдХреНрд╖ рдкрде рдЖрдпрд╛рдд рдЧрд░реЗрд░ рдореЛрдбреНрдпреБрд▓ рд▓реЛрдб рдЧрд░реНрджрдЫ рд░ `sayHi` рдЪрд░ рдкреНрд░рджрд╛рди рдЧрд░реНрджрдЫред


Modules can be exported in two ways: **Named** and **Default**. Furthermore, the Named exports can be assigned inline or individually.

рдореЛрдбреНрдпреБрд▓рд╣рд░реВ рджреБрдИ рддрд░рд┐рдХрд╛рдорд╛ рдирд┐рд░реНрдпрд╛рдд рдЧрд░реНрди рд╕рдХрд┐рдиреНрдЫ: **рдирд╛рдо** рд░ **рдкреВрд░реНрд╡рдирд┐рд░реНрдзрд╛рд░рд┐рдд** ред рдпрд╕рдмрд╛рд╣реЗрдХ, рдирд╛рдорд┐рдд рдирд┐рд░реНрдпрд╛рддрд╣рд░реВ рдЗрдирд▓рд╛рдЗрди рд╡рд╛ рд╡реНрдпрдХреНрддрд┐рдЧрдд рд░реВрдкрдорд╛ рддреЛрдХреНрди рд╕рдХрд┐рдиреНрдЫред

```javascript
// ЁЯУБ person.js 

// inlined named exports
export const name = "Kelvin";
export const age = 30;

// at once
const name = "Kelvin";
const age = 30;
export {name, age};
```

{% hint style="warning" %}


One can only have one default `export` in a file.

рдПрдЙрдЯрд╛ рдлрд╛рдЗрд▓рдорд╛ рдПрдЙрдЯрд╛ рдорд╛рддреНрд░ рдкреВрд░реНрд╡рдирд┐рд░реНрдзрд╛рд░рд┐рдд 'рдирд┐рд░реНрдпрд╛рдд' рд╣реБрди рд╕рдХреНрдЫ ред
{% endhint %}

<pre class="language-javascript"><code class="lang-javascript">// ЁЯУБ message.js
const message = (name, age) => {
<strong>    return `${name} is ${age} years old.`;
</strong>};
export default message;
</code></pre>

Based on the type of export, we can import it in two ways. The named export are constructed using curly braces whereas, default exports are not.

рдирд┐рд░реНрдпрд╛рддрдХреЛ рдкреНрд░рдХрд╛рд░рдХрд╛ рдЖрдзрд╛рд░рдорд╛ рд╣рд╛рдореА рдпрд╕рд▓рд╛рдИ рджреБрдИ рддрд░рд┐рдХрд╛рд▓реЗ рдЖрдпрд╛рдд рдЧрд░реНрди рд╕рдХреНрдЫреМрдВред рдирд╛рдорд┐рдд рдирд┐рд░реНрдпрд╛рдд рдШреБрдВрдШрд░рд╛рд▓реЗ рдмреНрд░реЗрд╕реЗрд╕ рдкреНрд░рдпреЛрдЧ рдЧрд░реЗрд░ рдирд┐рд░реНрдорд╛рдг рдЧрд░рд┐рдПрдХреЛ рдЫ рдЬрдмрдХрд┐, рдкреВрд░реНрд╡рдирд┐рд░реНрдзрд╛рд░рд┐рдд рдирд┐рд░реНрдпрд╛рдд рд╣рд░реВ рдЫреИрдирдиреНред

```javascript
import { name, age } from "./person.js"; // named export import
import message from "./message.js"; // default export import
```

While assigning modules, we should avoid _circular dependency_. Circular dependency is a situation where module A depends on B, and B  also depends on A directly or indirectly.

рдореЛрдбреНрдпреБрд▓рд╣рд░реВ рдирд┐рд░реНрджрд┐рд╖реНрдЯ рдЧрд░реНрджрд╛, рд╣рд╛рдореАрд▓реЗ _circular dependency_ рдмрдЪреНрдиреБрдкрд░реНрдЫред рд╕рд░реНрдХреБрд▓рд░ рдирд┐рд░реНрднрд░рддрд╛ рдПрдХ рд╕реНрдерд┐рддрд┐ рд╣реЛ рдЬрд╣рд╛рдБ рдореЛрдбреНрдпреБрд▓ рдП рдмреА рдорд╛ рдирд┐рд░реНрднрд░ рдЧрд░реНрджрдЫ, рд░ рдмреА рдкрдирд┐ рдкреНрд░рддреНрдпрдХреНрд╖ рд╡рд╛ рдЕрдкреНрд░рддреНрдпрдХреНрд╖ рд░реВрдкрдорд╛ рдП рдорд╛ рдирд┐рд░реНрднрд░ рдЧрд░реНрджрдЫред
